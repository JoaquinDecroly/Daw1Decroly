DROP DATABASE IF EXISTS DAWBANK;
CREATE DATABASE DAWBANK;
USE DAWBANK;

CREATE TABLE CUENTABANCARIA(
    IBAN VARCHAR(24) PRIMARY KEY,
    TITULAR VARCHAR(40),
    SALDO DECIMAL(8,2)
);

CREATE TABLE MOVIMIENTOS(
    ID INT AUTO_INCREMENT PRIMARY KEY,
    IBAN VARCHAR(24),
   --  TITULAR VARCHAR(40),
    FECHA DATE,
    TIPO ENUM('INGRESO','RETIRADA'),
    CANTIDAD DECIMAL(8,2),
    FOREIGN KEY (IBAN) REFERENCES CUENTABANCARIA(IBAN)
	-- FOREIGN KEY (TITULAR) REFERENCES CUENTABANCARIA(TITULAR)
);

-- Inserción de datos en la tabla CUENTABANCARIA
INSERT INTO CUENTABANCARIA (IBAN, TITULAR, SALDO) 
VALUES ('ES1234567891012131415167', 'PEDRO SALAZAR', 50);

-- Inserción de datos en la tabla MOVIMIENTOS
INSERT INTO MOVIMIENTOS (IBAN, FECHA, TIPO, CANTIDAD) 
VALUES 
    ('ES1234567891012131415167', '2023-10-01', 'INGRESO', 100.00),
    ('ES1234567891012131415167', '2023-10-05', 'RETIRADA', 50.00);
SELECT * FROM CUENTABANCARIA;
SELECT * FROM MOVIMIENTOS;